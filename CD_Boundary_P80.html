<!DOCTYPE html>
<html lang="en">
    
<head>

  <!-- Basic Page Needs –––––––––––––– -->
    <meta charset="utf-8"/>
    <title>Percent Over 65</title>
    <meta name="description" content="">
    <meta name="Ruth McLean" content="">

  <!-- Mobile Specific Metas –––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale = 1, user-scalable=no"/>

  <!-- FONT –––––––––––––– -->
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css"/>

  <!-- CSS –––––––––––––– -->
    <link rel="stylesheet" href="css/normalize.css"/>
    <link rel="stylesheet" href="css/skeleton.css"/>
    <link rel="stylesheet" href="css/gallery.css"/>
    <link rel="stylesheet"  type = "text/css" href="css/Map.css"/>
        <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    
  <!-- Leaflet –––––––––––––– -->
    <link rel ="stylesheet" href ="leaflet/leaflet.css" />    
        <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    <script src="leaflet/leaflet.js"></script>
    
  <!-- Mapbox –––––––––––––– -->
    <script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.9/mapbox.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.9/mapbox.css' rel='stylesheet' />   

  <!-- House Image –––––––––––––– -->
  <link rel="icon" type="image/png" href="images/sprite.png">

</head>
    
<body>

  <!-- Page Layout ––––––– -->
    <div class="container">
        <div class ="header">
            
        </div>
    </div>

    <nav class="navbar">
          <div class="container">
             <ul class="navbar-list">
                 
                 <li class="navbar-item"> <a class="navbar-link" href="file:///Users/Ruth/Desktop/Website/home.html#" ><img src="images/sprite2.png" alt="house" style ="width:50px; height:30px; line-height: 8.5rem; ">  </a></li>
                 <li class="navbar-item"> <a class="navbar-link" href="#" >Project Overview</a></li>
                 <li class="navbar-item"> <a class="navbar-link" href="#" >Research Team</a></li>
                 <li class="navbar-item"> <a class="navbar-link" href="file:///Users/Ruth/Desktop/Website/gallery.html" >Maps</a></li>

             </ul>
          </div>
      </nav> 

    <div id='map'></div>
    <script src ="js/CDBoundary_Variables.js"></script>

    <script>
        
        L.mapbox.accessToken = 'pk.eyJ1IjoicnV0aGhhbm5haCIsImEiOiJkMjE4YjFhY2YxZTEyN2NjNDMyNzVmMGExNDNjMmQyNSJ9.MAh45JFbYJo5QkCimq2WCw';
    
        var map=   L.mapbox.map('map', 'ruthhannah.48731bc4')
            .setView([64.696, -100.986], 3);
        
    
        function getColor(d){
            return  d > 20.4 ? '#006837' :
                    d > 18.22 ? '#31a354' :
                    d > 15.9 ? '#78c679' :
                    d > 12.74 ? '#c2eb99' :
                    '#ffffcc' ;
        }
    
 function style(feature){
    return {
        fillColor: getColor(feature.properties.P65),
        weight: 1,
        opacity: 1,
        color: '#999',
        dashArray: '',
        fillOpacity:0.2
    };
}
    
    function highlightFeature(e){
    var layer = e.target;
    info.update(layer.feature.properties);
    layer.setStyle({
        weight:1,
        color: '#666',
        dashArray:'',
        fillOpacity:0.8
    });
            if (!L.Browser.ie && !L.Browser.opera){
                layer.bringToFront();
                }
            }
    
    
        function resetHighlight(e) {
            geojson.resetStyle(e.target);
            info.update();
        }
    
        var geojson;
            geojson=L.geoJson(CDBoundary_Variables,{
                style:style,
                onEachFeature: onEachFeature
            }).addTo(map);
    
        function zoomToFeature(e){
            map.fitBounds(e.target.getBounds());
        }
    
        function onEachFeature (feature, layer){
            layer.on({
                mouseover:highlightFeature,
                mouseout:resetHighlight,
                click:zoomToFeature
            });
        }
        
        var CDBoundary_Variables = new L.geoJson(CDBoundary_Variables,{
            style:style,
            onEachFeature: onEachFeature
        }).addTo(map);
        
    
        var legend = L.control({position: 'bottomright'});
    
        legend.onAdd = function (map) {
  
         var div = L.DomUtil.create('div', 'info legend'),
               grades=[0,12.7,15.9,18.2,20.4],
               labels=[];
    
           for (var i= 0; i <grades.length; i++){
               div.innerHTML +=
                   '<i  style="background:' +getColor(grades[i] +1) + '"></i.>' +
                   grades[i] + (grades[i + 1]? '&ndash;' + grades[i + 1] + '<br>' : '+');
               }
          return div;
          };
          legend.addTo(map);
    

        var info = L.control();

        info.onAdd = function(map) {
            this._div = L.DomUtil.create('div','info');
            this.update();
            return this._div;
        };

        info.update = function(props) {
            this._div.innerHTML = (props? '<b> Province</b>: '+ props.PRNAME : "")
                + (props? '<br/><b>Census Division</b>: '+ props.CDNAME : "")
                + (props? '<br /><b>Percent Over 65: </b>' + props.P65.toFixed(2)+ '%' : "")
                ;
        };
    
        info.addTo(map);

        
</script>

    <div class="container" id = "button">
        <a class = "button" href = "/Users/Ruth/Desktop/Website/CD_Boundary.html">Summary</a>
        <a class = "button" href = "/Users/Ruth/Desktop/Website/CD_Boundary_P65.html">% 65 + </a>
        <a class = "button" href = "/Users/Ruth/Desktop/Website/CD_Boundary_P80.html">% 80 +</a>
        <a class = "button" href = "/Users/Ruth/Desktop/Website/CD_Boundary_S65.html">Share 65+</a>
        <a class = "button" href = "/Users/Ruth/Desktop/Website/CD_Boundary_SR65.html">SR 65 +</a>
        <a class = "button" href = "/Users/Ruth/Desktop/Website/CD_Boundary_SR80.html">SR 80 +</a>
        <a class = "button" href = "/Users/Ruth/Desktop/Website/CD_Boundary_OCDR.html">OCDR </a>
    </div>

    
<!-- End Document –––––––––––––––––––––––– -->
</body>
</html>
