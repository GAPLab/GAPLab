<!DOCTYPE html>
<html lang="en">
    
<head>

  <!-- Basic Page Needs –––––––––––––– -->
    <meta charset="utf-8"/>
    <title>Ontario Map</title>
    <meta name="description" content="">
    <meta name="Ruth McLean" content="">

  <!-- Mobile Specific Metas –––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale = 1, user-scalable=no"/>

  <!-- FONT –––––––––––––– -->
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css"/>

  <!-- CSS –––––––––––––– -->
    <link rel="stylesheet" href="css/normalize.css"/>
    <link rel="stylesheet" href="css/skeleton.css"/>
    <link rel="stylesheet" href="css/gallery.css"/>
    <link rel="stylesheet"  type = "text/css" href="css/Map.css"/>
        <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    
  <!-- Leaflet –––––––––––––– -->
    <link rel ="stylesheet" href ="leaflet/leaflet.css" />    
        <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    <script src="leaflet/leaflet.js"></script>
    
  <!-- Mapbox –––––––––––––– -->
    <script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.9/mapbox.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.9/mapbox.css' rel='stylesheet' />   

  <!-- House Image –––––––––––––– -->
  <link rel="icon" type="image/png" href="images/sprite.png">

</head>
    
<body>

  <!-- Page Layout ––––––– -->
    <div class="container">
        <div class ="header">
            
        </div>
    </div>

    <nav class="navbar">
          <div class="container">
             <ul class="navbar-list">
                 
                 <li class="navbar-item"> <a class="navbar-link" href="file:///Users/Ruth/Desktop/Website/home.html#" ><img src="images/sprite2.png" alt="house" style ="width:50px; height:30px; line-height: 8.5rem; ">  </a></li>
                 <li class="navbar-item"> <a class="navbar-link" href="#" >Project Overview</a></li>
                 <li class="navbar-item"> <a class="navbar-link" href="#" >Research Team</a></li>
                 <li class="navbar-item"> <a class="navbar-link" href="file:///Users/Ruth/Desktop/Website/gallery.html" >Maps</a></li>

             </ul>
          </div>
      </nav> 

    <div id='map'></div>
    <script src ="js/Ontario.js"></script>

    <script>
        
        L.mapbox.accessToken = 'pk.eyJ1IjoicnV0aGhhbm5haCIsImEiOiJkMjE4YjFhY2YxZTEyN2NjNDMyNzVmMGExNDNjMmQyNSJ9.MAh45JFbYJo5QkCimq2WCw';
    
        var map=   L.mapbox.map('map', 'ruthhannah.m9og6ig7')
            .setView([49.696, -87.188], 5);
    
    
        function getColor(d){
            return  '#42429A';
            //d > 1000 ? '#54278f' :
            //d > 750 ? '#756bb1' :
            //d > 500 ? '#9e9ac8' :
            //d > 250 ? '#cbc9e2' :
            //'#f2f0f7' ;
        }
    
        function style(feature){
            return {
            fillColor: getColor(feature.properties.SexRatio65),
            weight: 1,
            opacity: 1,
            color: 'white',
            dashArray: '',
            fillOpacity:0.4
            };
        }
    
        function highlightFeature(e){
            var layer = e.target;
            info.update(layer.feature.properties);
            layer.setStyle({
                weight:1,
                color: '#666',
                dashArray:'',
                fillOpacity:0.6
                });
    
            if (!L.Browser.ie && !L.Browser.opera){
                layer.bringToFront();
                }
            }
    
    
        function resetHighlight(e) {
            geojson.resetStyle(e.target);
            info.update();
        }
    
        var geojson;
            geojson=L.geoJson(Ontario,{
                style:style,
                onEachFeature: onEachFeature
            }).addTo(map);
    
        function zoomToFeature(e){
            map.fitBounds(e.target.getBounds());
        }
    
        function onEachFeature (feature, layer){
            layer.on({
                mouseover:highlightFeature,
                mouseout:resetHighlight,
                click:zoomToFeature
            });
        }
        
        var Ontario = new L.geoJson(Ontario,{
            style:style,
            onEachFeature: onEachFeature
        }).addTo(map);
        
    
        //var legend = L.control({position: 'topright'});
    
        //legend.onAdd = function (map) {
  
        // var div = L.DomUtil.create('div', 'info legend'),
        //       grades=[0,250,500,750,1000],
        //       labels=[];
    
        //   for (var i= 0; i <grades.length; i++){
        //       div.innerHTML +=
        //           '<i  style="background:' +getColor(grades[i] +1) + '"></i.>' +
        //           grades[i] + (grades[i + 1]? '&ndash;' + grades[i + //1] + '<br>' : '+');
        //       }
        //  return div;
        //  };
        //  legend.addTo(map);
    

        var info = L.control();

        info.onAdd = function(map) {
            this._div = L.DomUtil.create('div','info');
            this.update();
            return this._div;
        };

        info.update = function(props) {
            this._div.innerHTML = '<h5> <b> ONTARIO </b> </h5>' 
                + (props? '<b> Census Division</b>: '+ props.CDNAME : "")
                + (props? '<br /><b>Percent Over 65: </b>' + props.Percent65O.toFixed(2)+ '%' : "")
                + (props? '<br /><b>Percent Over 80: </b>' + props.Percent80_.toFixed(2) + '%' : "")
                + (props? '<br /><b>Sex Ratio 65: </b>' + props.SexRatio65.toFixed(2) + '%' : "")
                + (props? '<br /><b>Sex Ratio 80:</b> ' + props.SexRatio80.toFixed(2) + '%' : "")
                + (props? '<br /><b>Old Component Ratio: </b>' + props.OldCompone.toFixed(2) + '%': "");
        };
    
        info.addTo(map);

        
</script>

    <div class="container" id = "button">
        <a class = "button" href = "file:///Users/Ruth/Desktop/Website/Ontario_Percent65.html">Percent 65 + </a>
        <a class = "button" href = "">Percent 80 +</a>
        <a class = "button" href = "">Sex Ratio 65 +</a>
        <a class = "button" href = "">Sex Ratio 80 +</a>
        <a class = "button" href = "">Old Component Ratio </a>
    </div>

    <h6>PROVINCES AND TERRITORIES</h6>

    <div class = "bandgallery"> 
    <div class="container">

          <div class = "two columns">
                <div class="grumpy-image-wrapper">
                    <a href="file:///Users/Ruth/Desktop/Website/Ontario.html">
                    <img class="grumpy-image" src="images/ONTARIO2.png" /></a>
                </div>  
            </div>
          
          <div class = "two columns">
                <div class="grumpy-image-wrapper">
                    <a href="file:///Users/Ruth/Desktop/Website/Saskatchewan.html">
                    <img class="grumpy-image" src="images/SASKATCHEWAN2.png" /></a>
                </div>  
            </div>
          
          <div class = "two columns">
                <div class="grumpy-image-wrapper">
                    <a href="file:///Users/Ruth/Desktop/Website/Yukon.html">
                    <img class="grumpy-image" src="images/YUKON2.png" /></a>
                </div>  
            </div>
    
    <div class = "two columns">
                <div class="grumpy-image-wrapper">
                    <a href="file:///Users/Ruth/Desktop/Website/PrinceEdwardIsland.html">
                    <img class="grumpy-image" src="images/PEI.png" /></a>
                </div>  
            </div>
    
    <div class = "two columns">
                <div class="grumpy-image-wrapper">
                    <a href="file:///Users/Ruth/Desktop/Website/NewfoundlandLabrador.html">
                    <img class="grumpy-image" src="images/NewfoundlandLabrador.png" /></a>
                </div>  
            </div>
    
        <div class = "two columns">
                <div class="grumpy-image-wrapper">
                    <a href="file:///Users/Ruth/Desktop/Website/Quebec.html">
                    <img class="grumpy-image" src="images/Quebec.png" /></a>
                </div>  
            </div>
    
     
    </div><!--end container-->
    </div><!--end gallery-->

<!-- End Document –––––––––––––––––––––––– -->
</body>
</html>
